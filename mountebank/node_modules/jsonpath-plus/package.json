{
  "author": {
    "name": "Stefan Goessner"
  },
  "name": "jsonpath-plus",
  "description": "A JS implementation of JSONPath with some additional operators",
  "contributors": [
    {
      "name": "Prof. GÃ¶ssner",
      "email": "stefan.goessner@fh-dortmund.de"
    },
    {
      "name": "Subbu Allamaraju",
      "email": "subbu@subbu.org"
    },
    {
      "name": "Mike Brevoort",
      "email": "mike@brevoort.com"
    },
    {
      "name": "Robert Krahn",
      "email": "robert.krahn@gmail.com"
    },
    {
      "name": "Brett Zamir",
      "email": "brettz9@yahoo.com"
    },
    {
      "name": "Richard Schneider",
      "email": "makaretu@gmail.com"
    }
  ],
  "license": "MIT",
  "version": "0.15.0",
  "repository": {
    "type": "git",
    "url": "git://github.com/s3u/JSONPath.git"
  },
  "bugs": {
    "url": "https://github.com/s3u/JSONPath/issues/"
  },
  "homepage": "https://github.com/s3u/JSONPath",
  "main": "./lib/jsonpath",
  "dependencies": {},
  "engines": {
    "node": ">=0.8"
  },
  "devDependencies": {
    "eslint": "^1.10.3",
    "eslint-config-standard": "^4.4.0",
    "eslint-plugin-standard": "^1.3.1",
    "nodeunit": "0.9.0",
    "remark-lint": "^3.0.0",
    "remark": "^4.1.2"
  },
  "keywords": [
    "json",
    "jsonpath"
  ],
  "scripts": {
    "eslint": "eslint test lib test-helpers",
    "remark": "remark -q -f .",
    "lint": "npm run eslint && npm run remark",
    "nodeunit": "nodeunit test",
    "test": "npm run lint && npm run nodeunit",
    "browser-test": "npm run lint && node ./test-helpers/nodeunit-server"
  },
  "readme": "# JSONPath Plus [![build status](https://secure.travis-ci.org/s3u/JSONPath.png)](http://travis-ci.org/s3u/JSONPath)\r\n\r\nAnalyse, transform, and selectively extract data from JSON\r\ndocuments (and JavaScript objects).\r\n\r\n# Install\r\n\r\n```shell\r\n  npm install jsonpath-plus\r\n```\r\n\r\n# Usage\r\n\r\n## Syntax\r\n\r\nIn Node.js:\r\n\r\n```js\r\n  var JSONPath = require('jsonpath-plus');\r\n  var result = JSONPath({json: obj, path: path});\r\n```\r\n\r\nFor browser usage you can directly include `lib/jsonpath.js`; no Browserify\r\nmagic is necessary:\r\n\r\n```html\r\n  <script src=\"lib/jsonpath.js\"></script>\r\n  <script>\r\n      var result = JSONPath({path: path, json: obj});\r\n  </script>\r\n```\r\n\r\nThe full signature available is:\r\n\r\n```js\r\n    var result = JSONPath([options,] path, json, callback, otherTypeCallback);\r\n```\r\n\r\nThe arguments `path`, `json`, `callback`, and `otherTypeCallback`\r\ncan alternatively be expressed (along with any other of the\r\navailable properties) on `options`.\r\n\r\nNote that `result` will contain all items found (optionally\r\nwrapped into an array) whereas `callback` can be used if you\r\nwish to perform some operation as each item is discovered, with\r\nthe callback function being executed 0 to N times depending\r\non the number of independent items to be found in the result.\r\nSee the docs below for more on `JSONPath`'s available arguments.\r\n\r\nThe following format is now deprecated:\r\n\r\n```js\r\n  jsonPath.eval(options, json, path);\r\n```\r\n\r\n## Properties\r\n\r\nThe properties that can be supplied on the options object or\r\nevaluate method (as the first argument) include:\r\n\r\n- ***path*** (**required**) - The JSONPath expression as a (normalized\r\n  or unnormalized) string or array\r\n- ***json*** (**required**) - The JSON object to evaluate (whether of\r\n  null, boolean, number, string, object, or array type).\r\n- ***autostart*** (**default: true**) - If this is supplied as `false`,\r\n  one may call the `evaluate` method manually.\r\n- ***flatten*** (**default: false**) - Whether the returned array of results\r\n  will be flattened to a single dimension array.\r\n- ***resultType*** (**default: \"value\"**) - Can be case-insensitive form of\r\n  \"value\", \"path\", \"pointer\", \"parent\", or \"parentProperty\" to determine\r\n  respectively whether to return results as the values of the found items,\r\n  as their absolute paths, as [JSON Pointers](http://www.rfc-base.org/txt/rfc-6901.txt)\r\n  to the absolute paths, as their parent objects, or as their parent's\r\n  property name. If set to \"all\", all of these types will be returned on\r\n  an object with the type as key name.\r\n- ***sandbox*** (**default: {}**) - Key-value map of variables to be\r\n  available to code evaluations such as filtering expressions. (Note\r\n  that the current path and value will also be available to those\r\n  expressions; see the Syntax section for details.)\r\n- ***wrap*** (**default: true**) - Whether or not to wrap the results\r\n  in an array. If `wrap` is set to false, and no results are found,\r\n  `undefined` will be returned (as opposed to an empty array with\r\n  `wrap` set to true). If `wrap` is set to false and a single result\r\n  is found, that result will be the only item returned (not within\r\n  an array). An array will still be returned if multiple results are\r\n  found, however.\r\n- ***preventEval*** (**default: false**) - Although JavaScript evaluation\r\n  expressions are allowed by default, for security reasons (if one is\r\n  operating on untrusted user input, for example), one may wish to\r\n  set this option to `true` to throw exceptions when these expressions\r\n  are attempted.\r\n- ***parent*** (**default: null**) - In the event that a query could be\r\n  made to return the root node, this allows the parent of that root node\r\n  to be returned within results.\r\n- ***parentProperty*** (**default: null**) - In the event that a query\r\n  could be made to return the root node, this allows the `parentProperty`\r\n  of that root node to be returned within results.\r\n- ***callback*** (**default: (none)**) - If supplied, a callback will be\r\n  called immediately upon retrieval of an end point value. The three arguments\r\n  supplied will be the value of the payload (according to `resultType`),\r\n  the type of the payload (whether it is a normal \"value\" or a \"property\"\r\n  name), and a full payload object (with all `resultType`s).\r\n- ***otherTypeCallback*** (**default: \\<A function that throws an error**\r\n  **when @other() is encountered\\>**) - In the current absence of JSON\r\n  Schema support, one can determine types beyond the built-in types by\r\n  adding the operator `@other()` at the end of one's query. If such a\r\n  path is encountered, the `otherTypeCallback` will be invoked with the\r\n  value of the item, its path, its parent, and its parent's property name,\r\n  and it should return a boolean indicating whether the supplied value\r\n  belongs to the \"other\" type or not (or it may handle transformations and\r\n  return false).\r\n\r\n## Instance methods\r\n\r\n- ***evaluate(path, json, callback, otherTypeCallback)*** OR\r\n  ***evaluate({path: \\<path\\>, json: \\<json object\\>, callback:***\r\n  ***\\<callback function\\>, otherTypeCallback:***\r\n  ***\\<otherTypeCallback function\\>})*** - This method is only\r\n  necessary if the `autostart` property is set to `false`. It\r\n  can be used for repeated evaluations using the same configuration.\r\n  Besides the listed properties, the latter method pattern can\r\n  accept any of the other allowed instance properties (except\r\n  for `autostart` which would have no relevance here).\r\n\r\n## Class properties and methods\r\n\r\n- ***JSONPath.cache*** - Exposes the cache object for those who wish\r\n  to preserve and reuse it for optimization purposes.\r\n- ***JSONPath.toPathArray(pathAsString)*** - Accepts a normalized or\r\n  unnormalized path as string and converts to an array: for\r\n  example, `['$', 'aProperty', 'anotherProperty']`.\r\n- ***JSONPath.toPathString(pathAsArray)*** - Accepts a path array and\r\n  converts to a normalized path string. The string will be in a form\r\n  like: `$['aProperty']['anotherProperty][0]`. The JSONPath terminal\r\n  constructions `~` and `^` and type operators like `@string()` are\r\n  silently stripped.\r\n- ***JSONPath.toPointer(pathAsArray)*** - Accepts a path array and\r\n  converts to a [JSON Pointer](http://www.rfc-base.org/txt/rfc-6901.txt).\r\n  The string will be in a form like: `'/aProperty/anotherProperty/0`\r\n  (with any `~` and `/` internal characters escaped as per the JSON\r\n  Pointer spec). The JSONPath terminal constructions `~` and `^` and\r\n  type operators like `@string()` are silently stripped.\r\n\r\n# Syntax through examples\r\n\r\nGiven the following JSON, taken from <http://goessner.net/articles/JsonPath/>:\r\n\r\n```json\r\n  {\r\n    \"store\": {\r\n      \"book\": [\r\n        {\r\n          \"category\": \"reference\",\r\n          \"author\": \"Nigel Rees\",\r\n          \"title\": \"Sayings of the Century\",\r\n          \"price\": 8.95\r\n        },\r\n        {\r\n          \"category\": \"fiction\",\r\n          \"author\": \"Evelyn Waugh\",\r\n          \"title\": \"Sword of Honour\",\r\n          \"price\": 12.99\r\n        },\r\n        {\r\n          \"category\": \"fiction\",\r\n          \"author\": \"Herman Melville\",\r\n          \"title\": \"Moby Dick\",\r\n          \"isbn\": \"0-553-21311-3\",\r\n          \"price\": 8.99\r\n        },\r\n        {\r\n          \"category\": \"fiction\",\r\n          \"author\": \"J. R. R. Tolkien\",\r\n          \"title\": \"The Lord of the Rings\",\r\n          \"isbn\": \"0-395-19395-8\",\r\n          \"price\": 22.99\r\n        }\r\n      ],\r\n      \"bicycle\": {\r\n        \"color\": \"red\",\r\n        \"price\": 19.95\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nand the following XML representation:\r\n\r\n```xml\r\n<store>\r\n    <book>\r\n        <category>reference</category>\r\n        <author>Nigel Rees</author>\r\n        <title>Sayings of the Century</title>\r\n        <price>8.95</price>\r\n    </book>\r\n    <book>\r\n        <category>fiction</category>\r\n        <author>Evelyn Waugh</author>\r\n        <title>Sword of Honour</title>\r\n        <price>12.99</price>\r\n    </book>\r\n    <book>\r\n        <category>fiction</category>\r\n        <author>Herman Melville</author>\r\n        <title>Moby Dick</title>\r\n        <isbn>0-553-21311-3</isbn>\r\n        <price>8.99</price>\r\n    </book>\r\n    <book>\r\n        <category>fiction</category>\r\n        <author>J. R. R. Tolkien</author>\r\n        <title>The Lord of the Rings</title>\r\n        <isbn>0-395-19395-8</isbn>\r\n        <price>22.99</price>\r\n    </book>\r\n    <bicycle>\r\n        <color>red</color>\r\n        <price>19.95</price>\r\n    </bicycle>\r\n</store>\r\n```\r\n\r\nPlease note that the XPath examples below do not distinguish between\r\nretrieving elements and their text content (except where useful for\r\ncomparisons or to prevent ambiguity).\r\n\r\n| XPath             | JSONPath               | Result                                | Notes |\r\n| ----------------- | ---------------------- | ------------------------------------- | ----- |\r\n/store/book/author  | $.store.book\\[*].author | The authors of all books in the store | Can also be represented without the `$.` as `store.book[*].author` (though this is not present in the original spec)\r\n//author            | $..author              | All authors                           |\r\n/store/*            | $.store.*              | All things in store, which are its books (a book array) and a red bicycle (a bicycle object).|\r\n/store//price       | $.store..price         | The price of everything in the store. |\r\n//book\\[3]           | $..book\\[2]             | The third book (book object)          |\r\n//book\\[last()]      | $..book\\[(@.length-1)]<br>$..book\\[-1:]  | The last book in order.| To access a property with a special character, utilize `[(@['...'])]` for the filter (this particular feature is not present in the original spec)\r\n//book\\[position()<3]| $..book\\[0,1]<br>$..book\\[:2]| The first two books               |\r\n//book/*\\[self::category\\|self::author] or //book/(category,author) in XPath 2.0 | $..book\\[0]\\[category,author]| The categories and authors of all books |\r\n//book\\[isbn]        | $..book\\[?(@.isbn)]     | Filter all books with an ISBN number     | To access a property with a special character, utilize `[?@['...']]` for the filter (this particular feature is not present in the original spec)\r\n//book\\[price<10]    | $..book\\[?(@.price<10)] | Filter all books cheaper than 10     |\r\n| //\\*\\[name() = 'price' and . != 8.95] | $..\\*\\[?(@property === 'price' && @ !== 8.95)] | Obtain all property values of objects whose property is price and which does not equal 8.95 |\r\n/                   | $                      | The root of the JSON object (i.e., the whole object itself) |\r\n//\\*/\\*\\|//\\*/\\*/text()  | $..*                   | All Elements (and text) beneath root in an XML document. All members of a JSON structure beneath the root. |\r\n//*                 | $..                    | All Elements in an XML document. All parent components of a JSON structure including root. | This behavior was not directly specified in the original spec\r\n//*\\[price>19]/..    | $..\\[?(@.price>19)]^    | Parent of those specific items with a price greater than 19 (i.e., the store value as the parent of the bicycle and the book array as parent of an individual book) | Parent (caret) not documented in the original spec\r\n/store/*/name() (in XPath 2.0)  | $.store.*~ | The property names of the store sub-object (\"book\" and \"bicycle\"). Useful with wildcard properties. | Property name (tilde) is not present in the original spec\r\n/store/book\\[not(. is /store/book\\[1\\])\\] (in XPath 2.0) | $.store.book\\[?(@path !== \"$\\[\\'store\\']\\[\\'book\\']\\[0]\")] | All books besides that at the path pointing to the first | @path not present in the original spec\r\n//book\\[parent::\\*/bicycle/color = \"red\"]/category | $..book\\[?(@parent.bicycle && @parent.bicycle.color === \"red\")].category | Grabs all categories of books where the parent object of the book has a bicycle child whose color is red (i.e., all the books) | @parent is not present in the original spec\r\n//book/*\\[name() != 'category']     | $..book.*\\[?(@property !== \"category\")] | Grabs all children of \"book\" except for \"category\" ones  | @property is not present in the original spec\r\n//book/*\\[position() != 0]    | $..book\\[?(@property !== 0)] | Grabs all books whose property (which, being that we are reaching inside an array, is the numeric index) is not 0 | @property is not present in the original spec\r\n/store/\\*/\\*\\[name(parent::*) != 'book'] | $.store.*\\[?(@parentProperty !== \"book\")] | Grabs the grandchildren of store whose parent property is not book (i.e., bicycle's children, \"color\" and \"price\") | @parentProperty is not present in the original spec\r\n//book\\[count(preceding-sibling::\\*) != 0]/\\*/text() | $..book.*\\[?(@parentProperty !== 0)]  | Get the property values of all book instances whereby the parent property of these values (i.e., the array index holding the book item parent object) is not 0 | @parentProperty is not present in the original spec\r\n//book/../\\*\\[. instance of element(\\*, xs:decimal)\\] (in XPath 2.0) | $..book..\\*@number() | Get the numeric values within the book array | @number(), the other basic types (@boolean(), @string()), other low-level derived types (@null(), @object(), @array()), the JSONSchema-added type, @integer(), the compound type @scalar() (which also accepts `undefined` and non-finite numbers for JavaScript objects as well as all of the basic non-object/non-function types), the type, @other(), to be used in conjunction with a user-defined callback (see `otherTypeCallback`) and the following non-JSON types that can nevertheless be used with JSONPath when querying non-JSON JavaScript objects (@undefined(), @function(), @nonFinite()) are not present in the original spec\r\n\r\nAny additional variables supplied as properties on the optional \"sandbox\"\r\nobject option are also available to (parenthetical-based)\r\nevaluations.\r\n\r\n# Potential sources of confusion for XPath users\r\n\r\n1. In JSONPath, a filter expression, in addition to its `@` being a\r\nreference to its children, actually selects the immediate children\r\nas well, whereas in XPath, filter conditions do not select the children\r\nbut delimit which of its parent nodes will be obtained in the result.\r\n1. In JSONPath, array indexes are, as in JavaScript, 0-based (they begin\r\nfrom 0), whereas in XPath, they are 1-based.\r\n1. In JSONPath, equality tests utilize (as per JavaScript) multiple equal signs\r\nwhereas in XPath, they use a single equal sign.\r\n\r\n# Ideas\r\n\r\n1. Support OR outside of filters (as in XPath `|`) and grouping.\r\n1. Create syntax to work like XPath filters in not selecting children?\r\n1. Allow option for parentNode equivalent (maintaining entire chain of\r\n    parent-and-parentProperty objects up to root)\r\n\r\n# Development\r\n\r\nRunning the tests on Node:\r\n\r\n```shell\r\nnpm test\r\n```\r\n\r\nFor in-browser tests:\r\n\r\n- Serve the js/html files:\r\n\r\n```shell\r\nnpm run browser-test\r\n```\r\n\r\n- Visit [http://localhost:8082/test/test.html](http://localhost:8082/test/test.html).\r\n\r\n# License\r\n\r\n[MIT License](http://www.opensource.org/licenses/mit-license.php).\r\n",
  "readmeFilename": "README.md",
  "_id": "jsonpath-plus@0.15.0",
  "_shasum": "b6051c109f5ad2ca6c3b01bb135da82dc37c0149",
  "_resolved": "https://registry.npmjs.org/jsonpath-plus/-/jsonpath-plus-0.15.0.tgz",
  "_from": "https://registry.npmjs.org/jsonpath-plus/-/jsonpath-plus-0.15.0.tgz"
}
